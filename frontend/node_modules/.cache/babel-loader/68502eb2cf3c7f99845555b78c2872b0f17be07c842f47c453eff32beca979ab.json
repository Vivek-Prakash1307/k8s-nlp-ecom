{"ast":null,"code":"var _jsxFileName = \"D:\\\\k8s-nlp-ecom\\\\frontend\\\\src\\\\pages\\\\Products.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport API from '../api';\nimport ProductCard from '../components/ProductCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Products() {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [sort, setSort] = useState('relevance');\n  const [q, setQ] = useState('');\n  useEffect(() => {\n    fetchProducts();\n  }, [sort]);\n  const fetchProducts = async () => {\n    const res = await API.get('/api/products', {\n      params: {\n        sort,\n        q\n      }\n    });\n    setProducts(res.data.products);\n  };\n  const addToCart = async productId => {\n    try {\n      await API.post('/api/cart/add', {\n        productId,\n        quantity: 1\n      });\n      alert('Added to cart');\n    } catch (err) {\n      alert('Please login to add to cart');\n    }\n  };\n  const onSearch = e => {\n    e.preventDefault();\n    fetchProducts();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"toolbar\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSearch,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: q,\n          onChange: e => setQ(e.target.value),\n          placeholder: \"Search products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: sort,\n        onChange: e => setSort(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"relevance\",\n          children: \"Relevance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"price_asc\",\n          children: \"Price low\\u2192high\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"price_desc\",\n          children: \"Price high\\u2192low\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"rating\",\n          children: \"Rating\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"popularity\",\n          children: \"Popularity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid\",\n      children: products.map(p => /*#__PURE__*/_jsxDEV(ProductCard, {\n        p: p,\n        onAdd: addToCart\n      }, p.id || p._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 28\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n_s(Products, \"flXIhGBgWwgrpbx2pANgPVOnz+c=\");\n_c = Products;\nvar _c;\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["React","useEffect","useState","API","ProductCard","jsxDEV","_jsxDEV","Products","_s","products","setProducts","sort","setSort","q","setQ","fetchProducts","res","get","params","data","addToCart","productId","post","quantity","alert","err","onSearch","e","preventDefault","children","className","onSubmit","value","onChange","target","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","map","p","onAdd","id","_id","_c","$RefreshReg$"],"sources":["D:/k8s-nlp-ecom/frontend/src/pages/Products.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport API from '../api';\r\nimport ProductCard from '../components/ProductCard';\r\n\r\nexport default function Products(){\r\n  const [products, setProducts] = useState([]);\r\n  const [sort, setSort] = useState('relevance');\r\n  const [q, setQ] = useState('');\r\n\r\n  useEffect(()=> {\r\n    fetchProducts();\r\n  }, [sort]);\r\n\r\n  const fetchProducts = async () => {\r\n    const res = await API.get('/api/products', { params: { sort, q }});\r\n    setProducts(res.data.products);\r\n  };\r\n\r\n  const addToCart = async (productId) => {\r\n    try{\r\n      await API.post('/api/cart/add', { productId, quantity: 1 });\r\n      alert('Added to cart');\r\n    }catch(err){\r\n      alert('Please login to add to cart');\r\n    }\r\n  };\r\n\r\n  const onSearch = (e) => {\r\n    e.preventDefault();\r\n    fetchProducts();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"toolbar\">\r\n        <form onSubmit={onSearch}>\r\n          <input value={q} onChange={e=>setQ(e.target.value)} placeholder=\"Search products\"/>\r\n          <button>Search</button>\r\n        </form>\r\n        <select value={sort} onChange={e=>setSort(e.target.value)}>\r\n          <option value=\"relevance\">Relevance</option>\r\n          <option value=\"price_asc\">Price low→high</option>\r\n          <option value=\"price_desc\">Price high→low</option>\r\n          <option value=\"rating\">Rating</option>\r\n          <option value=\"popularity\">Popularity</option>\r\n        </select>\r\n      </div>\r\n      <div className=\"grid\">\r\n        {products.map(p => <ProductCard key={p.id || p._id} p={p} onAdd={addToCart} />)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}